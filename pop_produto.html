<!-- Documento HTML em português -->
<!DOCTYPE html>

<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chico's Burger</title>
    <link rel="stylesheet" href="css/style_pop.css">
</head>

<body class="pop">
    <main>
        <div class="slider">
            <div class= "sliderDetalhes">
                <button id="prevBtn">&#10094;</button>
                <img id="slider-img" src="" alt="">
                <button id="nextBtn">&#10095;</button>
            </div>

            <h1 id="nome-produto">Titulo</h1>
            <!-- <img src="" id="imagem-produto"/> -->
            <p id="descricao-produto">Descrição do Produto</p>

            <!--Preenchimento das Informações-->
            <script>
                //Função para capturar os parâmetros
                function getParametros(info) {
                    const urlParametros = new URLSearchParams(window.location.search);
                    return urlParametros.get(info);
                }
                //Preenche as informações na POP
                document.getElementById("nome-produto").textContent = getParametros("nomeProd");
                // document.getElementById("imagem-produto").src = getParametros("imagemProd");
                document.getElementById("descricao-produto").textContent = getParametros("descricaoProd");

                /*Controle do Slider*/
                const imagens = getParametros("imagemProd") ? getParametros("imagemProd").split(',') : [];
                let index = 0;
                const sliderImg = document.getElementById("slider-img");

                function MostrarImagem() {
                    if (imagens.length > 0) {
                        sliderImg.src = imagens[index];
                    }
                }

                document.getElementById("prevBtn").onclick = function () {
                    index = (index - 1 + imagens.length) % imagens.length;
                    MostrarImagem();
                }

                document.getElementById("nextBtn").onclick = function () {
                    index = (index + 1) % imagens.length;
                    MostrarImagem();
                }

                //Exibe a primeira imagem
                MostrarImagem();


            </script>
        </div>
    </main>

</body>

</html>